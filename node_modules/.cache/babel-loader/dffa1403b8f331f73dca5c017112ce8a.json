{"ast":null,"code":"import _toConsumableArray from \"D:\\\\react-projects\\\\react-pizza\\\\react-pizza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:\\\\react-projects\\\\react-pizza\\\\react-pizza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\react-projects\\\\react-pizza\\\\react-pizza\\\\src\\\\pages\\\\Home.jsx\";\nimport React from 'react';\nimport Categories from \"../components/Categories\";\nimport Sort from \"../components/Sort\";\nimport PizzaBlock from \"../components/PizzaBlock\";\nimport Skeleton from \"../components/PizzaBlock/Skeleton\";\nexport default function Home(_ref) {\n  var _this = this;\n  var searchValue = _ref.searchValue;\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    items = _React$useState2[0],\n    setItems = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    isLoading = _React$useState4[0],\n    setIsLoading = _React$useState4[1];\n  var _React$useState5 = React.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    categoryId = _React$useState6[0],\n    setCategoryId = _React$useState6[1];\n  var _React$useState7 = React.useState({\n      name: 'популярности',\n      sortProperty: 'rating'\n    }),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    sortType = _React$useState8[0],\n    setSortType = _React$useState8[1];\n  React.useEffect(function () {\n    setIsLoading(true);\n    var sortBy = sortType.sortProperty.replace('-', '');\n    var order = sortType.sortProperty.includes('-') ? 'asc' : 'desc';\n    var category = categoryId > 0 ? \"category=\".concat(categoryId) : '';\n    var search = searchValue ? \"&search=\".concat(searchValue) : '';\n    fetch(\"https://635101973e9fa1244e52bf8f.mockapi.io/items?\".concat(category, \"&sortBy=\").concat(sortBy, \"&order=\").concat(order).concat(search)).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      setItems(json);\n      setIsLoading(false);\n    });\n    window.scrollTo(0, 0);\n  }, [categoryId, sortType, searchValue]);\n  var pizzas = items.map(function (obj) {\n    return /*#__PURE__*/React.createElement(PizzaBlock, Object.assign({\n      key: obj.id\n    }, obj, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 38\n      }\n    }));\n  });\n  var skeletons = _toConsumableArray(new Array(10)).map(function (_, index) {\n    return /*#__PURE__*/React.createElement(Skeleton, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 60\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content__top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    value: categoryId,\n    onClickCategory: function onClickCategory(i) {\n      return setCategoryId(i);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Sort, {\n    value: sortType,\n    onClickSort: function onClickSort(i) {\n      return setSortType(i);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"content__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"\\u0423\\u0441\\u0456 \\u043F\\u0456\\u0446\\u0446\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, isLoading ? skeletons : pizzas));\n}","map":{"version":3,"names":["React","Categories","Sort","PizzaBlock","Skeleton","Home","searchValue","useState","items","setItems","isLoading","setIsLoading","categoryId","setCategoryId","name","sortProperty","sortType","setSortType","useEffect","sortBy","replace","order","includes","category","search","fetch","then","res","json","window","scrollTo","pizzas","map","obj","id","skeletons","Array","_","index","i"],"sources":["D:/react-projects/react-pizza/react-pizza/src/pages/Home.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nimport Categories from \"../components/Categories\";\r\nimport Sort from \"../components/Sort\";\r\nimport PizzaBlock from \"../components/PizzaBlock\";\r\nimport Skeleton from \"../components/PizzaBlock/Skeleton\";\r\n\r\nexport default function Home({ searchValue }) {\r\n    const [items, setItems] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true)\r\n\r\n    const [categoryId, setCategoryId] = React.useState(0);\r\n    const [sortType, setSortType] = React.useState({\r\n        name: 'популярности',\r\n        sortProperty: 'rating'\r\n    })\r\n\r\n\r\n    React.useEffect(() => {\r\n        setIsLoading(true);\r\n\r\n        const sortBy = sortType.sortProperty.replace('-', '');\r\n        const order = sortType.sortProperty.includes('-') ? 'asc' : 'desc';\r\n        const category = categoryId > 0 ? `category=${categoryId}` : '';\r\n        const search = searchValue ? `&search=${searchValue}` : '';\r\n\r\n        fetch(`https://635101973e9fa1244e52bf8f.mockapi.io/items?${category}&sortBy=${sortBy}&order=${order}${search}`,)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                setItems(json);\r\n                setIsLoading(false)\r\n            });\r\n        window.scrollTo(0, 0)\r\n    }, [categoryId, sortType, searchValue]);\r\n\r\n\r\n    const pizzas = items.map(obj => (<PizzaBlock key={obj.id} {...obj} />))\r\n    const skeletons = [...new Array(10)].map((_, index) => <Skeleton key={index} />)\r\n\r\n    return (<div className=\"container\">\r\n        <div className=\"content__top\">\r\n            <Categories value={categoryId} onClickCategory={(i) => setCategoryId(i)} />\r\n            <Sort value={sortType} onClickSort={(i) => setSortType(i)} />\r\n        </div>\r\n        <h2 className=\"content__title\">Усі піцци</h2>\r\n        <div className=\"content__items\">\r\n            {\r\n                isLoading\r\n                    ? skeletons\r\n                    : pizzas}\r\n        </div>\r\n    </div >)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}